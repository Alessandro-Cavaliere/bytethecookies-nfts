// SPDX-License-Identifier: MIT
pragma solidity 0.8.26;

import {Script, console} from "forge-std/Script.sol";
import {DevOpsTools} from "foundry-devops/src/DevOpsTools.sol";
import "../src/ByteTheCookiesNFTCollection.sol";
import {Vm} from "forge-std/Vm.sol";

contract MintByteTheCookiesNFT is Script {
    string public exampleImageUri = "application/json;base64,ewogICJ0b2tlbklEIjogMTAwNywKICAibmFtZSI6ICJ0aGVfZGFubiIsCiAgImRlc2NyaXB0aW9uIjogInRoZV9kYW5uIFx1MDBlOCBpbCBub3N0cm8gcHduZXIgcmV2ZXJzYXRvcmUgZGkgZmlkdWNpYSwgc2Ugbm9uIGNpIGZvc3NlIGx1aS4uLiIsCiAgImltYWdlIjogImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxVa2xHUmt3UkFBQlhSVUpRVmxBNElFQVJBQUFRUGdDZEFTcUFBSUFBUG1rb2tFV2tJcUdadXhkWVFBYUVzZ0JlaWVpRUIreDg2UzRkMVVNMzNPNTB2U1g1aEhQVzh5bm12K25IZW1QUVU2WlBBWnZNRDRhZnB2RFB4dC9BTTUzRzM1MS9RK1kvOG4vQ2Y4di9BK2l2ZlQ4d2RRdDJQYUY5K3UvaTFQdSsvL1c5d0R5MS80UGhRZWZld0IvT1A3NS81Zjh2N0pIMWo2QS9xZjlyZmdQL1h6MHovWkIrN1BzemZ1WXNTRkowaGxRejZUMGRWWXErR04wSXBQdEszZG4yNk1BNnpUUmoxQ2xIOWZ3dTdoWDdyQ2UxcFlkZ0xCV2FEZHZraElteEVPcUtkUlE2YWpORHBNbDJqUGticGRNWjlTSmNxSW1mVUFMcjA4WkFCREV2L1d4dFkwd3I4UTUrMlJmZEc3RlNmQ0Z3YmltQVl6SW5pdmFtLzgyWE9rQlVTUG1veXQzamlCUzJZMVA5UHVHWDdsOU1MVktGcUxhbmFtU2RXRDM1YlVGRWFZUUFGdjJ1SDRxZkxsUDlHcC9aektjL0hKREsrWUt1TTVwZ200dEIweUhwVlZGQzZIQ1ZleE9JM1h6bGJSK3BQMjc3UDVIWElkazUycm4yOXE2RC83SjBPc2ZybldvVDhKanM5ajMyU01lVnFycWFwM0JSS1VZemgva3lueVNHUFRxbEFVa3hPU08yR01jMTU5dzdjWXFsQlZIRWw4OVNSNE1SWDMrNmdZdUwwK0wxcnJOMi9PUmhGbG9KSkk5eG4ra3lINEdaSkRJbjNjblBLQ253RFZhbnBkUFozNCtlN1pBMW9yejhvaFQ4a05HcjMrSnhxbnd1Y0l2NUVhM0RUS05Fd0F0eDc1ZXM3MmJnQU5UYWZqU1lETGpSMUFEQ1hHZ3FmT1ByS2M3ckcycHh3UmVKVUFYZTRrV1UvL2FFcHlrTUJHcC8rMDBUWC96ajdaWXZwZkZ5a1o1cWREQnFlRnpoWmp2dFVqazdUMHhocERnQ2NyODRZNzg1SnBSdUs2WGRTUmlzVDRibXZIdkdqTE5HMEFUZERHUlJBbEEyVzdJMXJoKzE5c1UzN0NXYjhGYTJjL3I4SkR0cGNVdkNsWW1Pai9hdit2QnJ1M0hIQ05maHFzcWdwZGkvV28xeEVCV3B3MDYxcWNXdXhKR0pZR0hIeURDQXJjNS9saEVCekFML29MdFVTa0dZRWxOeTJ4eHI3R0o0R0FrTU1mYXRybk9tTnJsNFdRK3g5Um9uWnJpeitKekVqeEMwOVpIbWxYR1VpVlRmWkJMS0NmdXBNUEVuQm5xazVzV0tLTHRCelkrZWFYditmQjdrMXhPRU1OcFZJUi9KakZFYjJGakROdysycmY0VmFPa1VPWEFSdmRLcUIvYTZ0dEp1Nnc4WWx2Q1F4UGFGMkZvbE9EY3pnSHZsU3ZiNWpYVGNTTGpyUC9ReGtXME1sdHBvUDBVQnl1MENTdXNtQXliUmR0ZGU1RkhCaEpob2p4UzFSRTg2NzVqdFJSd3BrMDZyMmhrQUNwTGlOejBZdWt3cGF4V0FrU2RvdkZTUzFMSWo0SXBWVlM5SkhmQUttSTgydEpiZDFrNnRVaXQwYzF1NkFVdFJNZDVBT2YwUnVVN3pSZmdLWkE4anBveUhZbDI2dlB4ekFUZTVwa0pJME1XTmJ1MUh6RUsydHNoQ0Y0ZnlOTHlXM3pvbW9DZklyRU10VDEySnNYUk01ckZ0dGtoalNZSWtXLytkNGZEdkVlaGdkeVZpa0crV1FNY1hnOUwzRmZZcnNsS0JRb3FjcHdZUVdKMFFadW5BTCthV05zYUtZVEw3d2NGWWJWd3BnS3hZZVRsNzQyeVNmdGt5WGdWbzhEL1d1dDVCTmhMN29WZCtFdHJvb29uK1F1RGd6dmJpYnpYdHF4Y09EZmJxYUhrR1FIT1NabTRkZ1RnN2hSbDhoNjdGSHEyeGtiSURTWm5RNy82SlRSbTRoVTc1U3MxOS8rOXRTL2pmQWJWQmxQaTBKL1MyWVdQN0UwVlFqZFVnY3hKYldGQWQ3Y2tSTFlNQjM5bjdMY0MrcHRYN3hKUkVtTXZIWWhwNkRHNnBnSkRLK1kzRnVxck1SZVpRbGdMRDBQbmhmTjNnbE02ODduby9XTGZIcDdGaHV0Qml3Si9LQU1ESTlSZWNFVGJ6aG5scHBQelI1S0NYUWRHLytTeE1iYnBMb1B3aEwzK3BqV0syR0NPODBJTVlyc3ZUZEJIcW5aeU9mUld2WFpKckdmYXppQjk1c2t3ZGwzOGR4OFg5cFBFT1M2cTZSMVU1Wm5GdXRpSEMzWFhvemVoWExjMm8vNmlCcVJueUxaeVFpWGx3K08zQmJtb3IwRnhzK3RaZzZtSmFSVFNQV05JcGFHRmhXODRKc2NSQU12VUkrOGFqVWF4eFVrZjFBdXh6UCt3em9GU3hXbktaa3JtaEFLWXlPNnRGbE5xa3N2K3p3VlNqZnlNYS8vM0o0WTVnOHRMTFEyU211WENDK253RnJrUjU5NFkzeFUyNmhTM25oQkkyd0cwVThUbnpoL1RQZ1JZbDZ1MEJNb2dvUzBkWXBmZytmMEsxamsxWmFhb2cwaUcwWG5scUNoanR5aU5PYmpCM3VnTFo1dkFTd3VMSHZzNmZ3Yi9tWjRncXJJdTJWY3hnUVJVck5xVGZJQlRsc21acDdmSzNBV04zWmZoYkFzUUVRU3UzVlN4QnlZVG1oUVBmWVppVmFEdU9oanV2U25RSnlVTEVpdSttMWdVSDNadC9Ra0Q4NXNIeGNVeUdIUzZsWGpac1FQWjEvUmExbzlneTNaT2g5b3ZCL0w4REI0WUxxUzBOSUIrNjlCTXRmU3dMUGorZjVYc2hObGV0dlJmaGszek0yMGM1aFZ4Rk8yazltbGJBTUFjMTZkZWhQeThVVTcwaU1EWnYzVytaeG9sS0NrWkxveFB0eENzTmVOWXV2SktpTUF3ejEzZUZSdDdRRklkbWFFUFFIclZMdHl4YUdkOFBFZnN3RUp5cHdIc2V4MEREeHgzVlVTbVV0ZTNic1dySnEvZ3dkcEJsTVd3aG0zNngrcWlERCs0NzFUNVltUmNIMWQ2R1RKWVRONGpmZ2NXY1dTR0cyUklrNzFGdzQxV29Lb2FjS2UyeFd4ZWdrMFQ1RlR6di9vZ1psSjhmWUdaUHh1SzUvVzVjQXhPazhTSWp4emdtd3Bjc1BvVHpHM3UxWjFNQngzQ1hhYjhhL0JJZFVzZDdUNDcyeSt6emRjQnZacmJWVWh6MDBrUHdiam81OFh1Z2JVbDlQaGJFUHVyK1hlVnc5b3B3dUhJODR0MFRoVjZxSjRDQ2dpdndlcm11eHBLMGt3YzZwdTA5UXdUQ1hOaGVQU2VSOWlSTi9hYXBjMzR1dlZZNk8vTHVWRlljWU1zL0pJdkM0dUVVaFhLcXRLaWlJZ2IrcWFaTGJoaXRjRzdBekxOeWl4R0pURFBkNkZlRGhiV3IzQ2xVNGRPUVZYVTdIL1VENy9BT0dOanVLd1hwaFE4MmlFc3BZU09SUmwzSXFqZWdYZlYvT2R3TFp1SG5ZYjkxYjN6SzZ0ODk5K01LckRWRnAyOC9IMmdPSUJOaHV5aU9CUTNvSURNM0dGbXVGd3htaTF4WG0vM2FmeC90VjJvY1F6d1oxbGtLTHlGaERvQklMd2Ywb1JyQytMd1duZHpnQit3dEpoa2x1S3FRZm0yUVRrRWFtQ01xUE9pdmtWQkZNcDBvbTl0enNqcDc1M0k1RUd3a2JUZXZYQUVKaisvcytjQ3ZaYzNwbHFZdWE0V0g0aWQwWXlRVTJ1b0xoUGc4MFIwb0haNkNZQzZEbWZKZ1RyZGdqNWdxa0NmWXU2d2xNcHlsRXVaL0dxV2xmV3ovTEN2cklRL3EvR3BBK3duV0FZVXd3akhsbXhmUklEQVZmR05EOUlNWlFUM2pTVCtWc3AvM3lqLzIxd3ZaRW5ya1pOdFlYakMzZ09Gd09wbmRRTTlnc0hGbHpQZGhEVk1yWEVzeXUybGl2Mk10SmNOcVkrbXV1UEhXSk14SmYvcFc4L3hNa0paVkE3UmdLR3VQWXhYUkJ6NlhOcncybTQ5TnczMFNkdlpYS3B0RXJjZVpjU29DanlKNmV5RkptYzBHVU5LSFVBcmJVeE9DWS81bmk3WGdVb2RWVi91MVR6TkFNOHEvUkh1TWpka1dTbWMyb25DYjR5d3VNaVJxMGpQMzFqbzlIbmNabThKRjNGdjVNS0lqSjYvcy91dDVUMjlEbjJEeU9lM1BMR2pNMTBSQnhvSTZBNTJaTks1dGx4MlUzdFNYeFF1eWVKMFpXODJ6Qk9EK1VGMVNqMEExVGlldjJqdW5YM2NYVkVFc0thdTM4Sm54OEVDN2JQamt0OVFxdkNWMXo5MTlIUlpOeEZVSlpsSDQ3anRoMGFZeXhHZEE1QzRFdDV3bmx2VG9aVFAyVkNTQzczNzBoLy92YVNWeExqSlB6QTRVMXVPbVRFa2NDeHVORUNNMFVRZ0c5eHJwaUJ2MEpOeU13eXgvdzhySjFMckdpME80aFVxeHY1cHRES2pRK0VjajQrbjZzckFSMmg3S0ZwTmhDZktEZFR2ekJhRXlSSTMxZEt6cWNsS1NQQlMrejBqemxKWCt0MlViOW5vakVKZThzbGRhdDA2SEJVdEUrUGpEZWFIbG10eGVHOXp1anFuSHpUdFE1Z1RFN3lnRDNrZmFlaEg3SzNFN0VjakVoUE5BSVJQUmJnb0pySndUODFRT1RIQTMvc0hjeDlnWWZ1RlFxMUJ3eWRVMDRBbS84Ykd5eExoai9JV29vVm84R3VmOVQvTExuV1pPKzhLWGlQcndNTEd3bGQxTlpJSTk5em5pRDRucHFkV0RReUtoR3ZPZHlabWhVL3JUbFZsTzBodS9yTHo2blM5MEZxbkNIYWNqTXBpMllXaVU0V0U1NW5pSnk3V0dORWwycU1FOEJxZWlzL0ZLbmdLZGsvK0NiY2I1WkMwVHRDTWJNNlhMQW85M1lGa1dsWWR0UXV1RVFKTFYzNko4NTlaRlJYSFpXZmZjNmFab2N4N0JYY0Q2cGVEejNRb202eHU4NzNBdGE3eFhRaHJnSzMreExBVGt6UmlUNkZKUUNFMXlxMmlJZXZoWHVOZjZsRjhIajFzVjhKQUgrcGJ6SHMrTUYvbXZubm55Y2o1bDVDZnlOb2tvZllabzNkWUpmaVVHc3BmWnFEQzNUTFlac3NlckhZV3h5Z1JURFIvT0lockRPdDVPZTdoUklrM1NGNU9NcW1zV3E0MTYzNkp2QnJJelJnbkpIWEVtMktkV0FyOUVUT2JwYm5zayt3YjBLaFRNWDdoZE1iK1hKYmJUckVpQ2NmUVRnMkJaOVB0aG5ORElKR3N1QzBCVWIzOTJVRWdqMm93aHdKZU94NGJkb2dMenJOYmREOGlOelFPMGRrTDRlOUpCbzRtZlFMS2tkY3Q5R2xGUmt2ejUrUks2aEUzWFpQRGdYZit2R3UyYllYbFBZN0hBcE5SWU1IV2NQVUdQZXNKTXhPbFFDVEU2RUIyR0RxdE5nRWhyUkdyaUNDWEZvWEttc21GWmdzRi96bjZ2NG5SSm55Qlp1akR3L2lJNHNQM0NQdU9xUzViSUlQRU44MGJNUjZOUStlL3d2VjBXd21uNmgwQ2Qvc1N2ai8vUVMrcmVqZ05MaHlKclBiL1EzNER3M21Lb2hFeWRYcGFFSlhJZDJOS1pvSjB4aU9oWndpMEtsYkQ1alg2MWQyZnErejhBemVrZk1jYnZsM1hGdENQQkZMVUhqVDQ5alArMXFXL3czRC9nTUIvblFZMUpxaVlMbDluUE9lSzdwVHZib3RoRUNMUm11NHllejJvLzRMK2ZrRnY4NzUzeFVOTWhlUHhTekRMMnZVT1NpYW9yNDAwSkhrdW81OUh3QS8wRGE1ZmRkOVpRLzh0dUg5SnB2Ty9RZjVkNmU1b0JzbE5ncVpJbjMzeUd6Nk1iYllhWXo0UGpSL3VrcUFKTk9MOHp6a0N5SXJYVWdqSTZSczcxclhBYnkyRXJpclpiS2xhdTFsdVF3aVZGQXBnSWU4KzZlbWplaFpkYjFrZElpcEhzYTY0QnRJdVRiMkcrVEFOdnc5cTQ4ZnZFdDJ0bTJHck8rWG95OVl5VnBJRVRldEdyK091YVROTDV3OVBTTlI0VmhmNTR5KzN3bnJnYkgwTG9SWHk4clRwSGsyeUVia2MvVWszUVdKNnJTdy91Q1N3bnJ2VmZkVkpUcisySTlOc01adDc2YW9leEZ1NFhJQVZtSmxnWDVPRGEvTWpIaW9xbjZWUDBla2FHWHNNMEFOMHgvL0xRRzgxajlzU29Ud2RyZnNUdHVQeFZkNnNDNGtoaSs1ZTk2elVVQ29XOFh5cHVMQzJyYm4rL3RrVnRlNXdQYzRVR0ViN1NTNTBzcE5WdkJLU0JnNzgyVG8yQWRqMGlOZERQU2d4Z0NxZTRsSTV6R05qYmRtN096WVJCb2VMbnRRWUZXcnFubm0vUC81Z2g4dEw1ZjhHczJTNXpPRlhWZzFtbm9MR1czM3hNV0hRazgyZE94MVJwTVZmb0lhWGkwc2tNaFpSeERoeTZldGczVVo1RmR1SW1zbzlraTZibXYvaTRSU29XTVozd01xRFljZHRrSVJvSnAwSTE0U2dPVG1WTm9YT0pnS1dwL1laL3RIV1JMaHYrSzdMelFCaCtsSjNadk8rajVxZEpQTVBKTHU0NHIzS2FJd25NV3VMVHRPMitmTHBKeE1WNVl5QnRMK2k0MHpUdXJVU0FsOGthbWhUOWk4Z3g0cE5kZ2VuWUJCanF0cUFIWmViQ2FuZGRnN0c3TDYwUWJ2MUtHdzUrRjlsK0taV3ZEeXdWRE1Rbm1QSXphT2U1YmtlbU5SalBpZEFpSmhqQjhMVHMxRk1tejhFbDArbmRxRGdycVphekJxNlVWZ3ExbW82MU1jUFRaRUN1K1lTWTFzeWl1WWtGMVdJRXRpTWVnSHY1SXF5QkZJaHZZWHpMM1RLQkY2QU1GZXNBSG1wam51Mkd4VlR4cWd1Y0hmWjNVOC9Wa2ZRVWZZOTdlTmlPOHcvbjVlZHVFcFp0STJMaENqcDNjZ1ExY2RvM1pIcmFjd3dpWXE1aEJuYS9yNGtYbURhSGx1RWJGSDhkVVkvVGlGYzVBanFPUCtWdk51R3J2b0FQTjJsT0hXUTUrOWlQSzdtY24ydWE4aVhYcHYxc1BCLytGRnBuVmFyYWg2dEJ2eDFLY0gram1CMFlkVHNTUllvZU9GK05tZ1VQQlNGV1E4YXM2dDB2RDJOOGE4M2JpcHJINy9PVCthZExqUUdWWFg5UHlkVy84NjR5VlBzRjNnaDdzL3JWUm82azI5dVovdzRQbEk0OXgybWFjdmxLSHNKNkhVSGswMjlqR3ZFYm5iazFCM0JqMlpPSWErMlk4Vld3emhBMGpka0c0MlFUQUVhNWRqLzJWMmtYL0tGZklDNEdhR01HZDJCYzNPVGF2eVFDQUdNUE51QURuZUsxQ1RIeGcvMitLZUM2OEJFOXBBY3Q1TVM3ZFZiaGpSc3gvTGxrNEx6YXU4MVlpN2R0amgxMmhKUjU4NXN6a294OU4zb0pqZDcyWjZwclpBc3lOOXZYc1FoanZEakJqTUJjbGxCaHoweFBvT3Iza09hM1ZoSm5ZaDJVcUxCTXd3RkZyWW91L0swSFlEYUpjOFdKWWkvbXg5Q09sdVVIV1FWdXptSndrOUozYnNKZDFBQT0iCn0K";
    uint256 public constant MINT_PRICE = 0.01 ether;

    function run() external {
        address mostRecentlyDeployedNFTContract =
            DevOpsTools.get_most_recent_deployment("ByteTheCookiesNFTCollection", block.chainid);
        ByteTheCookiesNFTCollection(payable(mostRecentlyDeployedNFTContract));
        console.log("Most recently deployed NFT contract: ", mostRecentlyDeployedNFTContract);
        mintNftOnContract(mostRecentlyDeployedNFTContract);
    }

    function mintNftOnContract(address ByteTheCookiesNFTAddress) public payable {
        vm.startBroadcast();
        ByteTheCookiesNFTCollection(ByteTheCookiesNFTAddress).mintNft{value: MINT_PRICE}(exampleImageUri);
        vm.stopBroadcast();
    }
}

contract SettingWhitelist is Script {
    address[] public addresses = [
        0x9cFf19AAf6f6B46639BD66a0a37dE941325BAfF2,
        0x53b2DAC7Bb0BDa548CF241faCd51c2628664C216,
        0x2c88eF658f7Ee732D0f885bCA44F10491b0Bb3CA,
        0x4490716bcee5153eB0f92e6329FE5f4f9a8b4524,
        0x523284b365300f44EfF3FFe6E243a688B60e3d9f,
        0x9a4267d4B1e221f9Cc4c4596367592E5E85F288b,
        0x16f87a40142E062d1ACeFFa4D925114f989f9370
        //In attesa degli altri membri...
    ];

    function run() external {
        address mostRecentlyDeployedNFTContract =
            DevOpsTools.get_most_recent_deployment("ByteTheCookiesNFTCollection", block.chainid);
        ByteTheCookiesNFTCollection nftContract = ByteTheCookiesNFTCollection(payable(mostRecentlyDeployedNFTContract));
        addToWhitelist(nftContract);
    }

    function addToWhitelist(ByteTheCookiesNFTCollection nftContract) internal {
        vm.startBroadcast();
        for (uint256 i = 0; i < addresses.length; i++) {
            nftContract.addToWhitelist(addresses[i]);
        }
        vm.stopBroadcast();
    }
}
